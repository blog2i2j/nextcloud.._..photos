"use strict";(self.webpackChunkphotos=self.webpackChunkphotos||[]).push([["src_views_Albums_vue"],{39529:(t,o,n)=>{n.d(o,{A:()=>i});var e=n(71354),a=n.n(e),l=n(76314),s=n.n(l)()(a());s.push([t.id,".albums-list[data-v-4eebcf83]{display:flex;flex-direction:column}.albums-list .album__name[data-v-4eebcf83]{font-weight:normal;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:20px;margin-bottom:12px;line-height:30px;color:var(--color-main-text)}.album-creation__heading[data-v-4eebcf83]{padding:calc(var(--default-grid-baseline)*4);margin-bottom:0px;padding-bottom:0px}","",{version:3,sources:["webpack://./src/views/Albums.vue"],names:[],mappings:"AAEA,8BACC,YAAA,CACA,qBAAA,CAEA,2CACC,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,kBAAA,CACA,gBAAA,CACA,4BAAA,CAIF,0CACC,4CAAA,CACA,iBAAA,CACA,kBAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n.albums-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t.album__name {\n\t\tfont-weight: normal;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\tfont-size: 20px;\n\t\tmargin-bottom: 12px;\n\t\tline-height: 30px;\n\t\tcolor: var(--color-main-text);\n\t}\n}\n\n.album-creation__heading {\n\tpadding: calc(var(--default-grid-baseline) * 4);\n\tmargin-bottom: 0px;\n\tpadding-bottom: 0px;\n}\n'],sourceRoot:""}]);const i=s},99900:(t,o,n)=>{n.r(o),n.d(o,{default:()=>B});var e=n(27577),a=n(8111),l=n(63814),s=n(61025),i=n(53334),r=n(21777),m=n(66637),c=n(95901),u=n(11535),A=n(40756),b=n(82314);const p={name:"Albums",components:{Plus:e.A,FolderMultipleImage:a.A,NcModal:s.FH,NcButton:s.x1,NcEmptyContent:s.yI,CollectionsList:m.A,CollectionCover:c.A,HeaderNavigation:u.A,AlbumForm:A.A},filters:{coverUrl:t=>-1===t?"":(0,l.Jv)("/apps/photos/api/v1/preview/".concat(t,"?x=",512,"&y=",512))},mixins:[b.A],setup:()=>({isMobile:(0,s.F)()}),data:()=>({showAlbumCreationForm:!1}),computed:{albums(){return this.$store.getters.albums}},async beforeMount(){this.fetchAlbums()},methods:{fetchAlbums(){var t;this.fetchCollections("/photos/".concat(null===(t=(0,r.HW)())||void 0===t?void 0:t.uid,"/albums"),["<nc:location />","<nc:dateRange />","<nc:collaborators />"])},handleAlbumCreated(t){let{album:o}=t;this.showAlbumCreationForm=!1,this.$router.push("albums/".concat(o.basename))},t:i.Tl,n:i.zw}};var d=n(85072),h=n.n(d),C=n(97825),g=n.n(C),v=n(77659),f=n.n(v),_=n(55056),w=n.n(_),x=n(10540),y=n.n(x),k=n(41113),T=n.n(k),F=n(39529),N={};N.styleTagTransform=T(),N.setAttributes=w(),N.insert=f().bind(null,"head"),N.domAPI=g(),N.insertStyleElement=y();h()(F.A,N);F.A&&F.A.locals&&F.A.locals;const B=(0,n(14486).A)(p,(function(){var t=this,o=t._self._c;return o("div",[o("CollectionsList",{staticClass:"albums-list",attrs:{collections:t.albums,loading:t.loadingCollections,error:t.errorFetchingCollections},scopedSlots:t._u([{key:"default",fn:function(n){let{collection:e}=n;return o("CollectionCover",{key:e.basename,attrs:{link:"/albums/".concat(e.basename),"alt-img":t.t("photos","Cover photo for album {albumName}",{albumName:e.basename}),"cover-url":t._f("coverUrl")(e.lastPhoto)}},[o("span",{staticClass:"album__name"},[t._v("\n\t\t\t\t"+t._s(e.basename)+"\n\t\t\t")]),t._v(" "),o("div",{staticClass:"album__details",attrs:{slot:"subtitle"},slot:"subtitle"},[t._v("\n\t\t\t\t"+t._s(e.date)+" â¸± "+t._s(t.n("photos","%n item","%n photos and videos",e.nbItems))+"\n\t\t\t")])])}}])},[o("HeaderNavigation",{key:"navigation",attrs:{slot:"header",loading:t.loadingCollections,title:t.t("photos","Albums"),"root-title":t.t("photos","Albums")},on:{refresh:t.fetchAlbums},slot:"header"},[o("NcButton",{attrs:{"aria-label":t.isMobile?t.t("photos","New album"):void 0},on:{click:function(o){t.showAlbumCreationForm=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[o("Plus",{attrs:{size:20}})]},proxy:!0},t.isMobile?null:{key:"default",fn:function(){return[t._v("\n\t\t\t\t\t"+t._s(t.t("photos","New album"))+"\n\t\t\t\t")]},proxy:!0}],null,!0)})],1),t._v(" "),t._v(" "),o("NcEmptyContent",{attrs:{slot:"empty-collections-list",name:t.t("photos","There is no album yet!")},slot:"empty-collections-list"},[o("FolderMultipleImage",{attrs:{slot:"icon"},slot:"icon"})],1)],1),t._v(" "),t.showAlbumCreationForm?o("NcModal",{on:{close:function(o){t.showAlbumCreationForm=!1}}},[o("h2",{staticClass:"album-creation__heading"},[t._v("\n\t\t\t"+t._s(t.t("photos","New album"))+"\n\t\t")]),t._v(" "),o("AlbumForm",{on:{done:t.handleAlbumCreated}})],1):t._e()],1)}),[],!1,null,"4eebcf83",null).exports}}]);
//# sourceMappingURL=photos-src_views_Albums_vue.js.map?v=bae029d9b22d946e29b9