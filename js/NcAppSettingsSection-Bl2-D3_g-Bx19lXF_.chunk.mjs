import{r,al as m,n as l,N as c,a as s,am as v,V as y,an as _,ao as C,ap as k,f as b,q as S,H as N,aq as $}from"./index-CtBKWcPT.chunk.mjs";import{N as L}from"./NcActionButton-Gpv56vuS-DwokBgrB.chunk.mjs";import{N as d,d as B}from"./index-C7x2K0nC.chunk.mjs";import{C as x}from"./ChevronDown-DFQfzh63-CmnU8nt7.chunk.mjs";import{A,u as g}from"./index-BKOSQir6.chunk.mjs";import{N as I}from"./NcDialog-D2lwwZL--BBju5KIU.chunk.mjs";import{V as w}from"./vue.runtime.esm-DZVHDHac.chunk.mjs";r(m);const M={name:"MenuIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var V=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon menu-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},z=[],D=l(M,V,z,!1,null,null);const E=D.exports,O={name:"MenuOpenIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var H=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon menu-open-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},P=[],K=l(O,H,P,!1,null,null);const T=K.exports,p=window.OCP?.Accessibility?.disableKeyboardShortcuts?.(),U={name:"NcAppNavigationToggle",components:{NcButton:c,MenuIcon:E,MenuOpenIcon:T},props:{open:{type:Boolean,required:!0}},emits:["update:open"],setup(){return{disableKeyboardShortcuts:p}},computed:{label(){return this.open?s("Close navigation"):s("Open navigation {shortcut}",{shortcut:p?"":"[n]"}).trim()}},methods:{toggleNavigation(){this.$emit("update:open",!this.open)}}};var q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-navigation-toggle-wrapper"},[e("NcButton",{staticClass:"app-navigation-toggle",attrs:{"aria-controls":"app-navigation-vue","aria-expanded":t.open?"true":"false","aria-keyshortcuts":t.disableKeyboardShortcuts?"":"n","aria-label":t.label,title:t.label,variant:"tertiary"},on:{click:t.toggleNavigation},scopedSlots:t._u([{key:"icon",fn:function(){return[t.open?e("MenuOpenIcon",{attrs:{size:20}}):e("MenuIcon",{attrs:{size:20}})]},proxy:!0}])})],1)},R=[],Z=l(U,q,R,!1,null,"f7da2749");const Mt=Z.exports,F={name:"ChevronUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var j=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon chevron-up-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},G=[],J=l(F,j,G,!1,null,null);const Q=J.exports;r(v);const W={name:"NcInputConfirmCancel",components:{NcButton:c,ArrowRight:A,Close:y},props:{primary:{default:!1,type:Boolean},placeholder:{default:"",type:String},value:{default:"",type:String}},emits:["input","confirm","cancel"],data(){return{labelConfirm:s("Confirm changes"),labelCancel:s("Cancel changes")}},computed:{valueModel:{get(){return this.value},set(t){this.$emit("input",t)}}},methods:{confirm(){this.$emit("confirm")},cancel(){this.$emit("cancel")},focusInput(){this.$refs.input.focus()}}};var X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-navigation-input-confirm"},[e("form",{on:{submit:function(i){return i.preventDefault(),t.confirm.apply(null,arguments)},keydown:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"esc",27,i.key,["Esc","Escape"])||i.ctrlKey||i.shiftKey||i.altKey||i.metaKey?null:(i.stopPropagation(),i.preventDefault(),t.cancel.apply(null,arguments))},click:function(i){i.stopPropagation(),i.preventDefault()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.valueModel,expression:"valueModel"}],ref:"input",staticClass:"app-navigation-input-confirm__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.valueModel},on:{input:function(i){i.target.composing||(t.valueModel=i.target.value)}}}),e("NcButton",{attrs:{"aria-label":t.labelConfirm,type:"submit",variant:"primary"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.confirm.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ArrowRight",{attrs:{size:20}})]},proxy:!0}])}),e("NcButton",{attrs:{"aria-label":t.labelCancel,type:"reset",variant:t.primary?"primary":"tertiary"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.cancel.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Close",{attrs:{size:20}})]},proxy:!0}])})],1)])},Y=[],tt=l(W,X,Y,!1,null,"ac67c789");const et=tt.exports;r(_);const it={name:"NcAppNavigationIconCollapsible",components:{NcButton:c,ChevronDown:x,ChevronUp:Q},props:{open:{type:Boolean,default:!0}},emits:["click"],computed:{labelButton(){return this.open?s("Collapse menu"):s("Open menu")}},methods:{onClick(t){this.$emit("click",t)}}};var nt=function(){var t=this,e=t._self._c;return e("NcButton",{staticClass:"icon-collapse",class:{"icon-collapse--open":t.open},attrs:{"aria-label":t.labelButton,variant:"tertiary"},on:{click:t.onClick},scopedSlots:t._u([{key:"icon",fn:function(){return[t.open?e("ChevronUp",{attrs:{size:20}}):e("ChevronDown",{attrs:{size:20}})]},proxy:!0}])})},at=[],ot=l(it,nt,at,!1,null,"607590bd");const lt=ot.exports;r(k,C);const st={name:"PencilIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var rt=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon pencil-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},ct=[],ut=l(st,rt,ct,!1,null,null);const pt=ut.exports,dt={name:"UndoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var gt=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon undo-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},ht=[],ft=l(dt,gt,ht,!1,null,null);const mt=ft.exports,vt={name:"NcAppNavigationItem",components:{NcActions:S,NcActionButton:L,NcAppNavigationIconCollapsible:lt,NcInputConfirmCancel:et,NcLoadingIcon:b,NcVNodes:d,Pencil:pt,Undo:mt},props:{active:{type:Boolean,default:!1},name:{type:String,required:!0},title:{type:String,default:null},id:{type:String,default:()=>"app-navigation-item-"+N(),validator:t=>t.trim()!==""},icon:{type:String,default:""},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:null},href:{type:String,default:null},exact:{type:Boolean,default:!1},allowCollapse:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editLabel:{type:String,default:""},editPlaceholder:{type:String,default:""},pinned:{type:Boolean,default:!1},undo:{type:Boolean,default:!1},open:{type:Boolean,default:!1},menuOpen:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},menuIcon:{type:String,default:void 0},menuPlacement:{type:String,default:"bottom"},ariaDescription:{type:String,default:null},forceDisplayActions:{type:Boolean,default:!1},inlineActions:{type:Number,default:0}},emits:["update:menuOpen","update:open","update:name","click","undo"],setup(){return{isMobile:g()}},data(){return{editingValue:"",opened:this.open,editingActive:!1,menuOpenLocalValue:!1,focused:!1,actionsBoundariesElement:void 0}},computed:{isRouterLink(){return this.to&&!this.href},canHaveChildren(){return this.$parent.$options._componentTag!=="AppNavigationItem"},hasUtils(){return!!(this.$scopedSlots.actions||this.$scopedSlots.counter||this.editable||this.undo)},editButtonAriaLabel(){return this.editLabel?this.editLabel:s("Edit item")},undoButtonAriaLabel(){return s("Undo changes")}},watch:{open(t){this.opened=t}},mounted(){this.actionsBoundariesElement=document.querySelector("#content-vue")||void 0},methods:{onMenuToggle(t){this.$emit("update:menuOpen",t),this.menuOpenLocalValue=t},toggleCollapse(){this.opened=!this.opened,this.$emit("update:open",this.opened)},onClick(t,e,i){this.$emit("click",t),!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&i&&(e?.(t),t.preventDefault())},handleEdit(){this.editingValue=this.name,this.editingActive=!0,this.onMenuToggle(!1),this.$nextTick(()=>{this.$refs.editingInput.focusInput()})},cancelEditing(){this.editingActive=!1},handleEditingDone(){this.$emit("update:name",this.editingValue),this.editingValue="",this.editingActive=!1},handleUndo(){this.$emit("undo")},isCollapsible(){return this.allowCollapse&&!!this.$scopedSlots.default},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1},handleTab(t){this.$refs.actions&&(this.focused?(t.preventDefault(),this.$refs.actions.$refs.triggerButton.$el.focus(),this.focused=!1):this.$refs.actions.$refs.triggerButton.$el.blur())},isExternal(t){return t&&t.match(/[a-z]+:\/\//i)}}};var yt=function(){var t=this,e=t._self._c;return e("li",{staticClass:"app-navigation-entry-wrapper",class:{"app-navigation-entry--opened":t.opened,"app-navigation-entry--pinned":t.pinned,"app-navigation-entry--collapsible":t.isCollapsible()},attrs:{id:t.id}},[e(t.isRouterLink?"router-link":"NcVNodes",{tag:"component",attrs:{custom:!!t.isRouterLink,to:t.to,exact:t.isRouterLink?t.exact:null},scopedSlots:t._u([{key:"default",fn:function({href:i,navigate:o,isActive:n}){return[e("div",{staticClass:"app-navigation-entry",class:{"app-navigation-entry--editing":t.editingActive,"app-navigation-entry--deleted":t.undo,active:n&&t.to||t.active}},[t.undo?t._e():e("a",{staticClass:"app-navigation-entry-link",attrs:{"aria-current":t.active||n&&t.to?"page":void 0,"aria-description":t.ariaDescription,"aria-expanded":t.$scopedSlots.default?t.opened.toString():void 0,href:t.href||i||"#",target:t.isExternal(t.href)?"_blank":void 0,title:t.title||t.name},on:{blur:t.handleBlur,click:function(a){return t.onClick(a,o,i)},focus:t.handleFocus,keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"tab",9,a.key,"Tab")||a.ctrlKey||a.shiftKey||a.altKey||a.metaKey?null:t.handleTab.apply(null,arguments)}}},[e("div",{staticClass:"app-navigation-entry-icon",class:{[t.icon]:t.icon}},[t.loading?e("NcLoadingIcon"):t._t("icon")],2),t.editingActive?t._e():e("span",{staticClass:"app-navigation-entry__name"},[t._v(" "+t._s(t.name)+" ")]),t.editingActive?e("div",{staticClass:"editingContainer"},[e("NcInputConfirmCancel",{ref:"editingInput",attrs:{placeholder:t.editPlaceholder!==""?t.editPlaceholder:t.name,primary:n&&t.to||t.active},on:{cancel:t.cancelEditing,confirm:t.handleEditingDone},model:{value:t.editingValue,callback:function(a){t.editingValue=a},expression:"editingValue"}})],1):t._e()]),t.undo?e("div",{staticClass:"app-navigation-entry__deleted"},[e("div",{staticClass:"app-navigation-entry__deleted-description"},[t._v(" "+t._s(t.name)+" ")])]):t._e(),t.hasUtils&&!t.editingActive?e("div",{staticClass:"app-navigation-entry__utils",class:{"app-navigation-entry__utils--display-actions":t.forceDisplayActions||t.menuOpenLocalValue||t.menuOpen}},[t.$scopedSlots.counter?e("div",{staticClass:"app-navigation-entry__counter-wrapper"},[t._t("counter")],2):t._e(),t.$scopedSlots.actions||t.editable&&!t.editingActive||t.undo?e("NcActions",{ref:"actions",staticClass:"app-navigation-entry__actions",attrs:{inline:t.inlineActions,container:"#app-navigation-vue","boundaries-element":t.actionsBoundariesElement,placement:t.menuPlacement,open:t.menuOpen,type:n&&t.to||t.active?"primary":null,"force-menu":t.forceMenu,"default-icon":t.menuIcon},on:{"update:open":t.onMenuToggle},scopedSlots:t._u([{key:"icon",fn:function(){return[t._t("menu-icon")]},proxy:!0}],null,!0)},[t.editable&&!t.editingActive?e("NcActionButton",{attrs:{"aria-label":t.editButtonAriaLabel},on:{click:t.handleEdit},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Pencil",{attrs:{size:20}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(t.editLabel)+" ")]):t._e(),t.undo?e("NcActionButton",{attrs:{"aria-label":t.undoButtonAriaLabel},on:{click:t.handleUndo},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Undo",{attrs:{size:20}})]},proxy:!0}],null,!0)}):t._e(),t._t("actions")],2):t._e()],1):t._e(),t.isCollapsible()?e("NcAppNavigationIconCollapsible",{attrs:{open:t.opened},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.toggleCollapse.apply(null,arguments)}}}):t._e(),t._t("extra")],2)]}}],null,!0)}),t.canHaveChildren&&t.$scopedSlots.default?e("ul",{staticClass:"app-navigation-entry__children"},[t._t("default")],2):t._e()],1)},_t=[],Ct=l(vt,yt,_t,!1,null,"54906a49");const Vt=Ct.exports;r($);const kt={name:"NcAppSettingsDialog",components:{NcDialog:I,NcVNodes:d},provide(){return{registerSection:this.registerSection,unregisterSection:this.unregisterSection}},props:{open:{type:Boolean,required:!0},showNavigation:{type:Boolean,default:!1},container:{type:String,default:"body"},name:{type:String,default:""},additionalTrapElements:{type:Array,default:()=>[]}},emits:["update:open"],setup(){return{isMobile:g()}},data(){return{selectedSection:"",linkClicked:!1,addedScrollListener:!1,scroller:null,sections:[]}},computed:{dialogProperties(){return{additionalTrapElements:this.additionalTrapElements,closeOnClickOutside:!0,class:"app-settings",container:this.container,contentClasses:"app-settings__content",size:"large",name:this.name,navigationClasses:"app-settings__navigation"}},hasNavigationIcons(){return this.sections.some(({icon:t})=>!!t)},hasNavigation(){return!(this.isMobile||!this.showNavigation)},settingsNavigationAriaLabel(){return s("Settings navigation")}},updated(){this.$refs.settingsScroller&&(this.scroller=this.$refs.settingsScroller,this.addedScrollListener||(this.scroller.addEventListener("scroll",this.handleScroll),this.addedScrollListener=!0))},methods:{registerSection(t,e,i){if(this.sections.some(({id:n})=>t===n))throw new Error(`Duplicate section id found: ${t}. Settings navigation sections must have unique section ids.`);this.sections.some(({name:n})=>e===n)&&w.util.warn(`Duplicate section name found: ${e}. Settings navigation sections must have unique section names.`);const o=[...this.sections,{id:t,name:e,icon:i}];this.sections=o.sort(({id:n},{id:a})=>{const u=h=>this.$slots.default?.findIndex?.(f=>f?.componentOptions?.propsData?.id===h)??-1;return u(n)-u(a)}),this.sections.length===1&&(this.selectedSection=t)},unregisterSection(t){this.sections=this.sections.filter(({id:e})=>t!==e),this.selectedSection===t&&(this.selectedSection=this.sections[0]?.id??"")},handleSettingsNavigationClick(t){this.linkClicked=!0,document.getElementById("settings-section_"+t).scrollIntoView({behavior:"smooth",inline:"nearest"}),this.selectedSection=t,setTimeout(()=>{this.linkClicked=!1},1e3)},handleCloseModal(t){t||(this.$emit("update:open",!1),this.scroller.removeEventListener("scroll",this.handleScroll),this.addedScrollListener=!1,this.scroller.scrollTop=0)},handleScroll(){this.linkClicked||this.unfocusNavigationItem()},unfocusNavigationItem:B(function(){this.selectedSection="",document.activeElement.className.includes("navigation-list__link")&&document.activeElement.blur()},300)}};var bt=function(){var t=this,e=t._self._c;return t.open?e("NcDialog",t._b({attrs:{"navigation-aria-label":t.settingsNavigationAriaLabel},on:{"update:open":t.handleCloseModal},scopedSlots:t._u([t.hasNavigation?{key:"navigation",fn:function({isCollapsed:i}){return[i?t._e():e("ul",{staticClass:"navigation-list"},t._l(t.sections,function(o){return e("li",{key:o.id},[e("a",{class:{"navigation-list__link":!0,"navigation-list__link--active":o.id===t.selectedSection,"navigation-list__link--icon":t.hasNavigationIcons},attrs:{"aria-current":`${o.id===t.selectedSection}`,href:`#settings-section_${o.id}`,tabindex:"0"},on:{click:function(n){return n.preventDefault(),t.handleSettingsNavigationClick(o.id)},keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.handleSettingsNavigationClick(o.id)}}},[t.hasNavigationIcons?e("div",{staticClass:"navigation-list__link-icon"},[o.icon?e("NcVNodes",{attrs:{vnodes:o.icon}}):t._e()],1):t._e(),e("span",{staticClass:"navigation-list__link-text"},[t._v(" "+t._s(o.name)+" ")])])])}),0)]}}:null],null,!0)},"NcDialog",t.dialogProperties,!1),[e("div",{ref:"settingsScroller"},[t._t("default")],2)]):t._e()},St=[],Nt=l(kt,bt,St,!1,null,"0674bd2e");const zt=Nt.exports;export{Mt as N,zt as a,Vt as b};
//# sourceMappingURL=NcAppSettingsSection-Bl2-D3_g-Bx19lXF_.chunk.mjs.map
