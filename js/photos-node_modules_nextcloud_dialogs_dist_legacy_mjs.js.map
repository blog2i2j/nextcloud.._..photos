{"version":3,"file":"photos-node_modules_nextcloud_dialogs_dist_legacy_mjs.js?v=dceacff7c725d5185456","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA","sources":["webpack:///photos/node_modules/@nextcloud/dialogs/dist/legacy.mjs"],"sourcesContent":["import { basename as k } from \"path\";\nimport { a as o, t as f, c as w } from \"./chunks/index-69148435.mjs\";\nimport \"toastify-js\";\nimport D from \"vue\";\nimport { D as F } from \"./chunks/DialogBase-2d1c3e06.mjs\";\nimport T from \"@mdi/svg/svg/folder-multiple.svg?raw\";\nimport B from \"@mdi/svg/svg/folder-move.svg?raw\";\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst M = (v, i, a = () => {\n}) => {\n  const u = document.createElement(\"div\");\n  (document.querySelector(i == null ? void 0 : i.container) || document.body).appendChild(u);\n  const r = new D({\n    el: u,\n    name: \"VueDialogHelper\",\n    render: (h) => h(v, {\n      props: i,\n      on: {\n        close: () => {\n          a(), r.$destroy();\n        }\n      }\n    })\n  });\n};\nasync function z(v, i, a = !1, u, C, r = o.Choose, h, m) {\n  const y = (e, c) => {\n    const n = (t) => {\n      const s = (t == null ? void 0 : t.root) || \"\";\n      let l = (t == null ? void 0 : t.path) || \"\";\n      return l.startsWith(s) && (l = l.slice(s.length) || \"/\"), l;\n    };\n    return a ? (t) => e(t.map(n), c) : (t) => e(n(t[0]), c);\n  }, P = (e) => {\n    var c, n, t, s, l, p;\n    return {\n      id: e.fileid || null,\n      path: e.path,\n      mimetype: e.mime || null,\n      mtime: ((c = e.mtime) == null ? void 0 : c.getTime()) || null,\n      permissions: e.permissions,\n      name: ((n = e.attributes) == null ? void 0 : n.displayname) || e.basename,\n      etag: ((t = e.attributes) == null ? void 0 : t.etag) || null,\n      hasPreview: ((s = e.attributes) == null ? void 0 : s.hasPreview) || null,\n      mountType: ((l = e.attributes) == null ? void 0 : l.mountType) || null,\n      quotaAvailableBytes: ((p = e.attributes) == null ? void 0 : p.quotaAvailableBytes) || null,\n      icon: null,\n      sharePermissions: null\n    };\n  };\n  let b;\n  r === o.Custom ? (b = [], (m.buttons || []).forEach((e) => {\n    b.push({\n      callback: y(i, e.type),\n      label: e.text,\n      type: e.defaultButton ? \"primary\" : \"secondary\"\n    });\n  })) : b = (e, c) => {\n    var n, t, s;\n    const l = [], p = ((t = (n = e == null ? void 0 : e[0]) == null ? void 0 : n.attributes) == null ? void 0 : t.displayName) || ((s = e == null ? void 0 : e[0]) == null ? void 0 : s.basename), d = p || k(c);\n    return r === o.Choose && l.push({\n      callback: y(i, o.Choose),\n      label: p && !a ? f(\"Choose {file}\", { file: p }) : f(\"Choose\"),\n      type: \"primary\"\n    }), (r === o.CopyMove || r === o.Copy) && l.push({\n      callback: y(i, o.Copy),\n      label: d ? f(\"Copy to {target}\", { target: d }) : f(\"Copy\"),\n      type: \"primary\",\n      icon: T\n    }), (r === o.Move || r === o.CopyMove) && l.push({\n      callback: y(i, o.Move),\n      label: d ? f(\"Move to {target}\", { target: d }) : f(\"Move\"),\n      type: r === o.Move ? \"primary\" : \"secondary\",\n      icon: B\n    }), l;\n  };\n  const g = {};\n  typeof (m == null ? void 0 : m.filter) == \"function\" && (g.filterFn = (e) => m.filter(P(e)));\n  const _ = typeof u == \"string\" ? [u] : u || [];\n  M(w, {\n    ...g,\n    name: v,\n    buttons: b,\n    multiselect: a,\n    path: h,\n    mimetypeFilter: _,\n    allowPickDirectory: (m == null ? void 0 : m.allowDirectoryChooser) === !0 || _.includes(\"httpd/unix-directory\")\n  });\n}\nasync function H(v, i, a, u) {\n  M(F, { name: i, message: v, buttons: [\n    {\n      label: \"No\",\n      // eslint-disable-next-line n/no-callback-literal\n      callback: () => a(!1)\n    },\n    {\n      label: \"Yes\",\n      type: \"primary\",\n      // eslint-disable-next-line n/no-callback-literal\n      callback: () => a(!0)\n    }\n  ], size: \"small\" }, () => a(!1));\n}\nexport {\n  H as confirm,\n  z as filepicker\n};\n"],"names":[],"sourceRoot":""}