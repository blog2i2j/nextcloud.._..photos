import{E as z,m as k}from"./vue.runtime.esm-DZVHDHac.chunk.mjs";import{n as O}from"./index-CtBKWcPT.chunk.mjs";var x={exports:{}},_;function S(){return _||(_=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(e=!1));function u(s,i,n){this.fn=s,this.context=i,this.once=n||!1}function c(s,i,n,h,v){if(typeof n!="function")throw new TypeError("The listener must be a function");var f=new u(n,h||s,v),d=e?e+i:i;return s._events[d]?s._events[d].fn?s._events[d]=[s._events[d],f]:s._events[d].push(f):(s._events[d]=f,s._eventsCount++),s}function m(s,i){--s._eventsCount===0?s._events=new a:delete s._events[i]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var s=[],i,n;if(this._eventsCount===0)return s;for(n in i=this._events)t.call(i,n)&&s.push(e?n.slice(1):n);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(i)):s},l.prototype.listeners=function(s){var i=e?e+s:s,n=this._events[i];if(!n)return[];if(n.fn)return[n.fn];for(var h=0,v=n.length,f=new Array(v);h<v;h++)f[h]=n[h].fn;return f},l.prototype.listenerCount=function(s){var i=e?e+s:s,n=this._events[i];return n?n.fn?1:n.length:0},l.prototype.emit=function(s,i,n,h,v,f){var d=e?e+s:s;if(!this._events[d])return!1;var o=this._events[d],y=arguments.length,g,p;if(o.fn){switch(o.once&&this.removeListener(s,o.fn,void 0,!0),y){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,i),!0;case 3:return o.fn.call(o.context,i,n),!0;case 4:return o.fn.call(o.context,i,n,h),!0;case 5:return o.fn.call(o.context,i,n,h,v),!0;case 6:return o.fn.call(o.context,i,n,h,v,f),!0}for(p=1,g=new Array(y-1);p<y;p++)g[p-1]=arguments[p];o.fn.apply(o.context,g)}else{var P=o.length,b;for(p=0;p<P;p++)switch(o[p].once&&this.removeListener(s,o[p].fn,void 0,!0),y){case 1:o[p].fn.call(o[p].context);break;case 2:o[p].fn.call(o[p].context,i);break;case 3:o[p].fn.call(o[p].context,i,n);break;case 4:o[p].fn.call(o[p].context,i,n,h);break;default:if(!g)for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];o[p].fn.apply(o[p].context,g)}}return!0},l.prototype.on=function(s,i,n){return c(this,s,i,n,!1)},l.prototype.once=function(s,i,n){return c(this,s,i,n,!0)},l.prototype.removeListener=function(s,i,n,h){var v=e?e+s:s;if(!this._events[v])return this;if(!i)return m(this,v),this;var f=this._events[v];if(f.fn)f.fn===i&&(!h||f.once)&&(!n||f.context===n)&&m(this,v);else{for(var d=0,o=[],y=f.length;d<y;d++)(f[d].fn!==i||h&&!f[d].once||n&&f[d].context!==n)&&o.push(f[d]);o.length?this._events[v]=o.length===1?o[0]:o:m(this,v)}return this},l.prototype.removeAllListeners=function(s){var i;return s?(i=e?e+s:s,this._events[i]&&m(this,i)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,r.exports=l}(x)),x.exports}var $=S();const q=z($);class N extends Error{constructor(t){super(t),this.name="TimeoutError"}}class L extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const E=r=>globalThis.DOMException===void 0?new L(r):new DOMException(r),I=r=>{const t=r.reason===void 0?E("This operation was aborted."):r.reason;return t instanceof Error?t:E(t)};function A(r,t){const{milliseconds:e,fallback:a,message:u,customTimers:c={setTimeout,clearTimeout}}=t;let m;const l=new Promise((s,i)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(t.signal){const{signal:h}=t;h.aborted&&i(I(h)),h.addEventListener("abort",()=>{i(I(h))})}if(e===Number.POSITIVE_INFINITY){r.then(s,i);return}const n=new N;m=c.setTimeout.call(void 0,()=>{if(a){try{s(a())}catch(h){i(h)}return}typeof r.cancel=="function"&&r.cancel(),u===!1?s():u instanceof Error?i(u):(n.message=u??`Promise timed out after ${e} milliseconds`,i(n))},e),(async()=>{try{s(await r)}catch(h){i(h)}})()}).finally(()=>{l.clear()});return l.clear=()=>{c.clearTimeout.call(void 0,m),m=void 0},l}function F(r,t,e){let a=0,u=r.length;for(;u>0;){const c=Math.trunc(u/2);let m=a+c;e(r[m],t)<=0?(a=++m,u-=c+1):u=c}return a}class M{#t=[];enqueue(t,e){e={priority:0,...e};const a={priority:e.priority,id:e.id,run:t};if(this.size===0||this.#t[this.size-1].priority>=e.priority){this.#t.push(a);return}const u=F(this.#t,a,(c,m)=>m.priority-c.priority);this.#t.splice(u,0,a)}setPriority(t,e){const a=this.#t.findIndex(c=>c.id===t);if(a===-1)throw new ReferenceError(`No promise function with the id "${t}" exists in the queue.`);const[u]=this.#t.splice(a,1);this.enqueue(u.run,{priority:e,id:t})}dequeue(){return this.#t.shift()?.run}filter(t){return this.#t.filter(e=>e.priority===t.priority).map(e=>e.run)}get size(){return this.#t.length}}class G extends q{#t;#o;#n=0;#f;#a;#m=0;#r;#c;#e;#d;#s=0;#h;#i;#v;#b=1n;timeout;constructor(t){if(super(),t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:M,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${t.intervalCap?.toString()??""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${t.interval?.toString()??""}\` (${typeof t.interval})`);this.#t=t.carryoverConcurrencyCount,this.#o=t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0,this.#f=t.intervalCap,this.#a=t.interval,this.#e=new t.queueClass,this.#d=t.queueClass,this.concurrency=t.concurrency,this.timeout=t.timeout,this.#v=t.throwOnTimeout===!0,this.#i=t.autoStart===!1}get#w(){return this.#o||this.#n<this.#f}get#x(){return this.#s<this.#h}#_(){this.#s--,this.#u(),this.emit("next")}#E(){this.#g(),this.#y(),this.#c=void 0}get#I(){const t=Date.now();if(this.#r===void 0){const e=this.#m-t;if(e<0)this.#n=this.#t?this.#s:0;else return this.#c===void 0&&(this.#c=setTimeout(()=>{this.#E()},e)),!0}return!1}#u(){if(this.#e.size===0)return this.#r&&clearInterval(this.#r),this.#r=void 0,this.emit("empty"),this.#s===0&&this.emit("idle"),!1;if(!this.#i){const t=!this.#I;if(this.#w&&this.#x){const e=this.#e.dequeue();return e?(this.emit("active"),e(),t&&this.#y(),!0):!1}}return!1}#y(){this.#o||this.#r!==void 0||(this.#r=setInterval(()=>{this.#g()},this.#a),this.#m=Date.now()+this.#a)}#g(){this.#n===0&&this.#s===0&&this.#r&&(clearInterval(this.#r),this.#r=void 0),this.#n=this.#t?this.#s:0,this.#l()}#l(){for(;this.#u(););}get concurrency(){return this.#h}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this.#h=t,this.#l()}async#T(t){return new Promise((e,a)=>{t.addEventListener("abort",()=>{a(t.reason)},{once:!0})})}setPriority(t,e){this.#e.setPriority(t,e)}async add(t,e={}){return e.id??=(this.#b++).toString(),e={timeout:this.timeout,throwOnTimeout:this.#v,...e},new Promise((a,u)=>{this.#e.enqueue(async()=>{this.#s++,this.#n++;try{e.signal?.throwIfAborted();let c=t({signal:e.signal});e.timeout&&(c=A(Promise.resolve(c),{milliseconds:e.timeout})),e.signal&&(c=Promise.race([c,this.#T(e.signal)]));const m=await c;a(m),this.emit("completed",m)}catch(c){if(c instanceof N&&!e.throwOnTimeout){a();return}u(c),this.emit("error",c)}finally{this.#_()}},e),this.emit("add"),this.#u()})}async addAll(t,e){return Promise.all(t.map(async a=>this.add(a,e)))}start(){return this.#i?(this.#i=!1,this.#l(),this):this}pause(){this.#i=!0}clear(){this.#e=new this.#d}async onEmpty(){this.#e.size!==0&&await this.#p("empty")}async onSizeLessThan(t){this.#e.size<t||await this.#p("next",()=>this.#e.size<t)}async onIdle(){this.#s===0&&this.#e.size===0||await this.#p("idle")}async#p(t,e){return new Promise(a=>{const u=()=>{e&&!e()||(this.off(t,u),a())};this.on(t,u)})}get size(){return this.#e.size}sizeBy(t){return this.#e.filter(t).length}get pending(){return this.#s}get isPaused(){return this.#i}}const w={name:"NcProgressBar",props:{value:{type:Number,default:0,validator(r){return r>=0&&r<=100}},size:{type:[String,Number],default:"small",validator(r){return["small","medium"].includes(r)||typeof r=="number"}},error:{type:Boolean,default:!1},type:{type:String,default:"linear",validator(r){return["linear","circular"].includes(r)}},color:{type:String,default:null}},data(){return{stroke:4}},computed:{height(){return this.type==="circular"?Number.isInteger(this.size)?this.size:44:this.size==="small"?4:this.size==="medium"?6:this.size},progress(){return this.value/100},radius(){return this.height/2},radiusNormalized(){return this.radius-3*this.stroke},circumference(){return this.radiusNormalized*2*Math.PI}}},T=()=>{k((r,t)=>({"497e8a2b":r.color}))},C=w.setup;w.setup=C?(r,t)=>(T(),C(r,t)):T;const j=w;var D=function(){var r=this,t=r._self._c;return r.type==="circular"?t("span",{staticClass:"progress-bar progress-bar--circular",class:{"progress-bar--error":r.error},style:{"--progress-bar-height":r.height+"px"},attrs:{role:"progressbar","aria-valuenow":r.value}},[t("svg",{attrs:{height:r.height,width:r.height}},[t("circle",{attrs:{stroke:"currentColor",fill:"transparent","stroke-dasharray":`${r.progress*r.circumference} ${(1-r.progress)*r.circumference}`,"stroke-dashoffset":.25*r.circumference,"stroke-width":r.stroke,r:r.radiusNormalized,cx:r.radius,cy:r.radius}}),t("circle",{attrs:{stroke:"var(--color-background-darker)",fill:"transparent","stroke-dasharray":`${(1-r.progress)*r.circumference} ${r.progress*r.circumference}`,"stroke-dashoffset":(.25-r.progress)*r.circumference,"stroke-width":r.stroke,r:r.radiusNormalized,cx:r.radius,cy:r.radius}})])]):t("progress",{staticClass:"progress-bar progress-bar--linear vue",class:{"progress-bar--error":r.error},style:{"--progress-bar-height":r.height+"px"},attrs:{max:"100"},domProps:{value:r.value}})},V=[],Y=O(j,D,V,!1,null,"5e97fe1f");const H=Y.exports;export{H as N,G as P};
//# sourceMappingURL=NcProgressBar-DegJ2JjE-CMVvcGKc.chunk.mjs.map
